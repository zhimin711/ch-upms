DROP TABLE IF EXISTS `bt_upload_file`;
CREATE TABLE `bt_upload_file` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `ORIGINAL_NAME` VARCHAR(50) NULL COMMENT '原文件名',
  `FILE_NAME` VARCHAR(50) NOT NULL COMMENT '文件名',
  `FILE_TYPE` VARCHAR(255) NULL COMMENT '文件后缀',
  `FILE_SIZE` BIGINT(20) NULL COMMENT '文件大小',
  `FILE_PATH` VARCHAR(255) NOT NULL COMMENT '文件存储相对路径(不包含共享路径)',
  `CONTENT_TYPE` VARCHAR(255) NULL COMMENT '文件内容类型',
  `MD5` VARCHAR(36) NOT NULL COMMENT '文件MD5',
  `TYPE` VARCHAR(10) DEFAULT NULL COMMENT '上传类型(1.公共 2.用户 3.文章 4.图标 5.背景)',
  `VERSION` VARCHAR(10) DEFAULT NULL COMMENT '版本（自定义）',
  `SRC_TYPE` CHAR(1) NOT NULL DEFAULT '0' COMMENT '系统来源: 0.upload 1.BOOKS 2.NETWORK',
  `STATUS` CHAR(1) NOT NULL DEFAULT '0' COMMENT '状态：0.待处理 1.可用 2.拒绝 3.删除 4.异常',
  `DESCRIPTION` VARCHAR(255) DEFAULT NULL COMMENT '描述',
  `CREATE_AT` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `CREATE_BY` VARCHAR(64) NULL COMMENT '创建人',
  `UPDATE_AT` DATETIME NULL COMMENT '更新时间',
  `UPDATE_BY` VARCHAR(64) NULL COMMENT '更新人',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `UK_BT_UF_FILE_NAME` (`FILE_NAME`),
  KEY `IDX_BT_UF_MD5_TYPE` (`MD5`,`TYPE`),
  KEY `IDX_BT_UF_FILE_TYPE` (`FILE_TYPE`),
  KEY `IDX_BT_UF_STATUS` (`STATUS`),
  KEY `IDX_BT_UF_CREATE_BY` (`CREATE_BY`)
) ENGINE=INNODB DEFAULT CHARSET=UTF8 COMMENT '业务表-文件上传记录信息';